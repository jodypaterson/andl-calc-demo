---
id: atp-closure-report-spec
name: ATP Closure Report Specification
version: 1.0.0
category: governance
description: >-
  Standardized artifact specification for ATP Closure Reports. Defines the
  mandatory markdown format generated by governance.atp_close tool. Reports
  provide comprehensive verification of goals, objectives, quality gates,
  and outcomes for completed ATPs.
displayMode: on-demand
criticality: high
parentProtocol: atp_lifecycle
triggerDescription: >-
  FETCH when: Closing an ATP, reviewing closure report requirements, or
  generating completion artifacts. Defines the artifact format produced by
  governance.atp_close tool.
triggerKeywords:
  - closure report
  - completion report
  - atp artifact
  - report format
  - closure artifact
estimatedTokens: 1200
metadata:
  author: system
  createdAt: "2026-01-12"
  updatedAt: "2026-01-12"
---

# ğŸ“„ ATP CLOSURE REPORT SPECIFICATION

**Mandatory artifact format for ATP completion verification and governance record.**

---

## ğŸ“œ 1. Overview

The ATP Closure Report is the **official artifact** that documents the complete verification of an ATP's goals, objectives, quality gates, and outcomes. This artifact is:

- **Generated automatically** by `governance.atp_close` tool
- **Persisted** to TCS database via `Artifacts` table
- **Linked** to the ATP record for audit trail
- **Immutable** once created (append-only corrections via new artifacts)

---

## ğŸ“‹ 2. Artifact Metadata

| Field              | Value                                        |
| ------------------ | -------------------------------------------- |
| **Artifact Type**  | `CompletionReport`                           |
| **File Extension** | `.md`                                        |
| **Location**       | `governance/artifacts/closure/` OR TCS only  |
| **Naming**         | `ATP-{ID}_CLOSURE_REPORT_{YYYYMMDD}.md`      |
| **Generator Tool** | `governance.atp_close`                       |
| **Persistence**    | TCS `Artifacts` table + optional file output |

---

## ğŸ“ 3. Mandatory Report Structure

### 3.1 Report Template

```markdown
# ATP Closure Report: {ATP-ID}

**Generated:** {ISO timestamp}
**Generator:** governance.atp_close
**Report ID:** {REPORT-YYYYMMDD-NNNN}

---

## ğŸ“Š Executive Summary

| Field              | Value                     |
| ------------------ | ------------------------- |
| **ATP ID**         | {ATP identifier}          |
| **Title**          | {ATP title/description}   |
| **Status**         | âœ… Closed                 |
| **Duration**       | {Start date} â†’ {End date} |
| **Lead Agent(s)**  | {@dev, @pm, etc.}         |
| **Risk Level**     | {1-5}                     |
| **Workflow Level** | {L1-L5}                   |

### Summary

{Brief 2-3 sentence summary of what was accomplished}

---

## âœ… Acceptance Criteria Verification

| #   | Criterion                | Status | Evidence           |
| --- | ------------------------ | ------ | ------------------ |
| 1   | {Acceptance criterion 1} | âœ… Met | {Link/description} |
| 2   | {Acceptance criterion 2} | âœ… Met | {Link/description} |
| ... | ...                      | ...    | ...                |

**Verification Method:** {How criteria were verified - tests, review, demo}

---

## ğŸ§ª Quality Gates

### Build & Test Results

| Gate             | Status  | Details                     |
| ---------------- | ------- | --------------------------- |
| ğŸ”¨ **Build**     | âœ… Pass | `pnpm -s build` exit code 0 |
| ğŸ§ª **Tests**     | âœ… Pass | {N} tests, {M}% coverage    |
| ğŸ“ **Lint**      | âœ… Pass | `pnpm -s lint` exit code 0  |
| ğŸ“‹ **TypeCheck** | âœ… Pass | No TypeScript errors        |

### Governance Compliance

| Check                    | Status  | Details                       |
| ------------------------ | ------- | ----------------------------- |
| ğŸ“‹ **Registry Sync**     | âœ… Pass | All ATs marked Done           |
| ğŸ”„ **State Sync**        | âœ… Pass | `verify:state` OK             |
| ğŸ“ **Changelog Updated** | âœ… Pass | {If user-facing: entry added} |
| ğŸ“œ **Decisions Logged**  | âœ… Pass | {N} ADs recorded              |

---

## ğŸ“¦ Artifacts Produced

### Code Changes

| File               | Change Type | Lines Changed |
| ------------------ | ----------- | ------------- |
| {path/to/file1.ts} | Modified    | +{N}/-{M}     |
| {path/to/file2.ts} | Created     | +{N}          |
| ...                | ...         | ...           |

**Total Files Changed:** {N}
**Total Lines Changed:** +{added}/-{removed}

### Documentation

- {List of documentation files created/updated}

### Tests

- {List of test files created/updated}

---

## ğŸ“Š Metrics

| Metric                      | Planned | Actual | Variance |
| --------------------------- | ------- | ------ | -------- |
| â±ï¸ **Effort (hours)**       | {N}     | {M}    | {+/-X%}  |
| ğŸ“‹ **ATs Completed**        | {N}     | {M}    | {+/-X}   |
| ğŸš« **Blockers Encountered** | -       | {N}    | -        |
| ğŸ”„ **Plan Revisions**       | -       | {N}    | -        |
| ğŸ” **Rework Cycles**        | -       | {N}    | -        |

---

## ğŸ’¡ Lessons Learned

### Process Insights

1. **{Category}:** {Lesson description and how to apply in future}
2. **{Category}:** {Lesson description and how to apply in future}

### Technical Insights

1. **{Category}:** {Technical lesson learned}
2. **{Category}:** {Technical lesson learned}

### Recommendations for Future Work

- {Specific recommendation 1}
- {Specific recommendation 2}

---

## ğŸ“‘ Related Artifacts

| Artifact Type      | ID/Reference          | Description             |
| ------------------ | --------------------- | ----------------------- |
| ğŸ“‹ **Directive**   | MSG-{YYYYMMDD}-{NNNN} | Original assignment     |
| ğŸ”„ **Handoffs**    | HANDOFF-{...}         | Agent transitions       |
| ğŸ“œ **Decisions**   | AD-{YYYYMMDD}-{NN}    | Autonomy decisions made |
| ğŸ› **Bug Reports** | BUG-{YYYYMMDD}-{NNNN} | Defects found/fixed     |

---

## âœï¸ Signatures

| Role   | Agent | Timestamp       | Action           |
| ------ | ----- | --------------- | ---------------- |
| ğŸ”§ Dev | @dev  | {ISO timestamp} | Completed work   |
| ğŸ“‹ PM  | @pm   | {ISO timestamp} | Verified closure |

---

**Report Generated:** {ISO timestamp}
**TCS Record:** Artifacts.id = {artifact_id}
**Governance Sync:** âœ… Complete
```

---

## ğŸ”§ 4. Tool Integration

### 4.1 Generation via governance.atp_close

```typescript
// The tool generates the report automatically when generateReport: true
governance.atp_close({
  atpId: "AT-XX-YY",
  summary: "Implemented feature X with full test coverage",
  acceptanceCriteriaMet: true,
  lessonsLearned: [
    "Process: Early testing caught integration issues faster",
    "Technical: Pattern X proved more maintainable than Y",
  ],
  metrics: {
    effortHours: 12,
    blockersEncountered: 1,
    planRevisions: 0,
  },
  generateReport: true, // â† Triggers report artifact creation
});
```

### 4.2 Tool Return Value

The `governance.atp_close` tool returns:

```typescript
{
  success: true,
  atpId: "AT-XX-YY",
  closedAt: "2026-01-12T15:30:00.000Z",
  completionReportId: "REPORT-20260112-0001",  // â† Report artifact ID
  artifactId: 12345,                            // â† TCS Artifacts.id
  tcsUpdated: true
}
```

---

## ğŸ“Š 5. Report Sections Reference

### 5.1 Required Sections

| Section                          | Required | Purpose                           |
| -------------------------------- | -------- | --------------------------------- |
| Executive Summary                | âœ… Yes   | Quick overview for stakeholders   |
| Acceptance Criteria Verification | âœ… Yes   | Proof all criteria met            |
| Quality Gates                    | âœ… Yes   | Build/test/lint/governance status |
| Artifacts Produced               | âœ… Yes   | What was created/changed          |
| Metrics                          | âœ… Yes   | Effort, blockers, revisions       |
| Lessons Learned                  | âœ… Yes   | Process improvement insights      |
| Signatures                       | âœ… Yes   | Who completed and verified        |

### 5.2 Optional Sections

| Section           | When to Include                     |
| ----------------- | ----------------------------------- |
| Related Artifacts | If multiple directives/handoffs     |
| Recommendations   | If insights apply to future work    |
| Technical Debt    | If debt was deferred during ATP     |
| Risk Notes        | If risks were encountered/mitigated |

---

## ğŸš« 6. Anti-Patterns

| âŒ Anti-Pattern             | âœ… Correct Behavior                |
| --------------------------- | ---------------------------------- |
| Manual report creation      | Use `governance.atp_close` tool    |
| Missing acceptance criteria | Verify ALL criteria with evidence  |
| Skipping lessons learned    | Capture at least one insight       |
| No metrics                  | Record effort, blockers, revisions |
| Missing signatures          | Both Dev and PM must sign          |
| Editing after generation    | Reports are immutable; create new  |

---

## ğŸ’¡ 7. Best Practices

| Practice                          | Benefit                        |
| --------------------------------- | ------------------------------ |
| ğŸ“ **Detailed evidence**          | Enables future troubleshooting |
| ğŸ“Š **Accurate metrics**           | Improves future estimation     |
| ğŸ’¡ **Actionable lessons**         | Drives continuous improvement  |
| ğŸ”— **Link all related artifacts** | Creates complete audit trail   |
| âœ… **Verify before generating**   | Use `closure.verify` first     |
